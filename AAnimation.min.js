!function(root,factory){"function"==typeof define&&define.amd?define([],factory):"object"==typeof module&&module.exports?module.exports=factory():root.AAnimation=factory()}("undefined"!=typeof window?window:global,(function(){var requestFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(f){return setTimeout(f,1e3/60)},cancelFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame||function(requestID){clearTimeout(requestID)};class AAnimation{constructor(params){void 0!==params.timing?this.timing=params.timing:this.timing=AAnimation.linear,this.onUpdate=params.onUpdate,this.duration=params.duration,void 0!==params.start_value?(this.is_single_val=!0,this.start_value=params.start_value):void 0!==params.start_values?(this.is_single_val=!1,this.start_values=params.start_values):(this.is_single_val=!0,this.start_value=0),this.is_single_val?void 0!==params.end_value?this.end_value=params.end_value:this.end_value=1:this.end_values=params.end_values,void 0!==params.onFinish&&(this.onFinish=params.onFinish),void 0!==params.onStart&&(this.onStart=params.onStart)}start(){this._verify()&&(void 0!==this.onStart&&this.onStart(),this.startstamp=window.performance.now(),requestFrame(timestamp=>this._update(timestamp)))}_verify(){var valid=!0;return void 0===this.onUpdate&&(console.error("AAnimate: You must provide an onUpdate function."),valid=!1),void 0===this.duration&&(console.error("AAnimate: You must provide an animation duration."),valid=!1),this.is_single_val||void 0!==this.end_values&&this._checkKeyEquality(this.end_values,this.start_values)||(console.error("AAnimate: You must provide matching end values if you are using multiple start values."),valid=!1),valid}_update(timestamp){var timestamp,runtime,time_fraction=((timestamp=timestamp||window.performance.now())-this.startstamp)/this.duration;if(time_fraction=Math.min(time_fraction,1),this.is_single_val){let update_value=this.timing(time_fraction)*(this.end_value-this.start_value)+this.start_value;this.onUpdate(update_value)}else{let update_values={};for(let key in this.start_values)update_values[key]=this.timing(time_fraction)*(this.end_values[key]-this.start_values[key])+this.start_values[key];this.onUpdate(update_values)}1!=time_fraction?requestFrame(timestamp=>this._update(timestamp)):void 0!==this.onFinish&&this.onFinish()}static ease(time_fraction){return time_fraction<.5?4*Math.pow(time_fraction,3):(time_fraction-=1,4*Math.pow(time_fraction,3)+1)}static easein(time_fraction){return Math.pow(time_fraction,3)}static easeout(time_fraction){return 1-Math.pow(time_fraction,3)}static linear(time_fraction){return time_fraction}_checkKeyEquality(obj1,obj2){let start_keys=Object.keys(obj1),end_keys=Object.keys(obj2);if(start_keys===end_keys)return!0;if(null==start_keys||null==end_keys)return!1;if(start_keys.length!=end_keys.length)return!1;for(var pos=0;pos<start_keys.length;pos++)if(start_keys[pos]!=end_keys[pos])return!1;return!0}}return AAnimation}));
//# sourceMappingURL=AAnimation.min.js.map