"use strict";window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)},window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)};class AAnimation{constructor(t){void 0!==t.timing?this.timing=t.timing:this.timing=AAnimation.linear,this.onUpdate=t.onUpdate,this.duration=t.duration,void 0!==t.start_value?(this.is_single_val=!0,this.start_value=t.start_value):void 0!==t.start_values?(this.is_single_val=!1,this.start_values=t.start_values):(this.is_single_val=!0,this.start_value=0),this.is_single_val?void 0!==t.end_value?this.end_value=t.end_value:this.end_value=1:this.end_values=t.end_values,void 0!==t.onFinish&&(this.onFinish=t.onFinish),void 0!==t.onStart&&(this.onStart=t.onStart)}start(){this._verify()&&(void 0!==this.onStart&&this.onStart(),this.startstamp=window.performance.now(),requestAnimationFrame(t=>this._update(t)))}_verify(){var t=!0;return void 0===this.onUpdate&&(console.error("AAnimate: You must provide an onUpdate function."),t=!1),void 0===this.duration&&(console.error("AAnimate: You must provide an animation duration."),t=!1),this.is_single_val||void 0!==this.end_values&&this._checkKeyEquality(this.end_values,this.start_values)||(console.error("AAnimate: You must provide matching end values if you are using multiple start values."),t=!1),t}_update(t){var i=((t=t||window.performance.now())-this.startstamp)/this.duration;if(i=Math.min(i,1),this.is_single_val){let t=this.timing(i)*(this.end_value-this.start_value)+this.start_value;this.onUpdate(t)}else{let t={};for(let e in this.start_values)t[e]=this.timing(i)*(this.end_values[e]-this.start_values[e])+this.start_values[e];this.onUpdate(t)}1!=i?requestAnimationFrame(t=>this._update(t)):void 0!==this.onFinish&&this.onFinish()}static ease(t){return t<.5?4*Math.pow(t,3):(t-=1,4*Math.pow(t,3)+1)}static easein(t){return Math.pow(t,3)}static easeout(t){return 1-Math.pow(t,3)}static linear(t){return t}_checkKeyEquality(t,i){let e=Object.keys(t),n=Object.keys(i);if(e===n)return!0;if(null==e||null==n)return!1;if(e.length!=n.length)return!1;for(var a=0;a<e.length;a++)if(e[a]!=n[a])return!1;return!0}}